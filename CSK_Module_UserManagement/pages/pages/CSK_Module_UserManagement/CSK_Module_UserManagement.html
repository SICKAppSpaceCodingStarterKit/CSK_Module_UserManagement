<layout-row id="RowLayout1" class="myCustomBackground_CSK_Module_UserManagement">
    <layout-column id="ColumnLayout9" class="myCustomFrameNoColor_CSK_Module_UserManagement"
        style="align-items: stretch">
        <layout-row id="RowLayout8" class="myCustomSpacerVert20_CSK_Module_UserManagement">
        </layout-row>
        <layout-row id="RowLayout19">
            <layout-column id="ColumnLayout26" style="align-items: stretch">
                <layout-row id="RowLayout01" style="align-items: baseline">
                    <h1 id="Heading_Title" class="myCustomLabel_CSK_Module_UserManagement">
                        User Management
                    </h1>
                    <davinci-value-display id="VD_Version">
                        <crown-on property="value" crown-event="CSK_UserManagement/OnNewStatusModuleVersion">
                        </crown-on>
                    </davinci-value-display>
                </layout-row>
            </layout-column>
        </layout-row>
        <layout-row id="RowLayout10">
            <layout-column id="ColumnLayout10" style="align-items: stretch">
                <layout-row id="RowLayout20" class="myCustomMarginFirstRow_CSK_Module_UserManagement">
                    <layout-column id="ColumnLayout2" style="align-items: stretch">
                    </layout-column>
                    <layout-column id="ColumnLayout28" class="myCustomBorderLeft_CSK_Module_UserManagement"
                        style="align-items: stretch">
                        <stacked-view id="SV_Login">
                            <stacked-pane id="SP_LoginOK" value="true">
                                <layout-row id="RowLayout46" style="align-items: baseline">
                                    <layout-column id="ColumnLayout81" style="align-items: stretch">
                                        <layout-row id="RowLayout24" style="align-items: center">
                                            <layout-column id="ColumnLayout57" style="align-items: stretch">
                                                <davinci-value-display id="VD_PersistentData" value="Persistent Data">
                                                </davinci-value-display>
                                            </layout-column>
                                            <layout-column id="ColumnLayout73"
                                                style="align-items: stretch; flex-grow: 2">
                                                <davinci-text-field id="TF_ParameterName" type="text"
                                                    title="Name of the parameters within the CSK_PersistentData module to be uses for this module.">
                                                    <crown-edpws-binding property="value"
                                                        name="CSK_UserManagement/OnNewParameterName" update-on-resume>
                                                    </crown-edpws-binding>
                                                    <crown-binding event="change"
                                                        name="CSK_UserManagement/setParameterName"
                                                        path="param/args/name" auto-commit>
                                                    </crown-binding>
                                                    <crown-edpws-binding property="disabled"
                                                        name="CSK_UserManagement/OnPersistentDataModuleAvailable"
                                                        update-on-resume converter="function(value) {return !value;}">
                                                    </crown-edpws-binding>
                                                </davinci-text-field>
                                            </layout-column>
                                            <layout-column id="Column_PersistentDatax" style="align-items: stretch">
                                                <layout-row id="RowLayout55">
                                                    <layout-column id="ColumnLayout76" style="align-items: stretch">
                                                        <layout-row id="RowLayout34"
                                                            class="myCustomMarginTop7PX_CSK_Module_UserManagement"
                                                            style="justify-content: center; align-items: center">
                                                            <davinci-button id="B_LoadConfig"
                                                                class="myCustomButton_CSK_Module_UserManagement"
                                                                type="outline"
                                                                title="Load configured parameters from CSK_PersistentData module.">
                                                                <davinci-icon icon="action/history"></davinci-icon>
                                                                <span></span>
                                                                <crown-binding event="submit"
                                                                    name="CSK_UserManagement/loadParameters"
                                                                    auto-commit>
                                                                </crown-binding>
                                                                <crown-edpws-binding property="disabled"
                                                                    name="CSK_UserManagement/OnPersistentDataModuleAvailable"
                                                                    update-on-resume
                                                                    converter="function(value) {return !value;}">
                                                                </crown-edpws-binding>
                                                            </davinci-button>
                                                            <davinci-button id="B_SaveConfig"
                                                                class="myCustomButton_CSK_Module_UserManagement"
                                                                type="outline"
                                                                title="Save current configured parameters of this module within CSK_PersistentData module.">
                                                                <davinci-icon icon="content/save"></davinci-icon>
                                                                <span></span>
                                                                <crown-binding event="submit"
                                                                    name="CSK_UserManagement/sendParameters"
                                                                    auto-commit>
                                                                </crown-binding>
                                                                <crown-edpws-binding property="disabled"
                                                                    name="CSK_UserManagement/OnPersistentDataModuleAvailable"
                                                                    update-on-resume
                                                                    converter="function(value) {return !value;}">
                                                                </crown-edpws-binding>
                                                            </davinci-button>
                                                        </layout-row>
                                                    </layout-column>
                                                </layout-row>
                                            </layout-column>
                                        </layout-row>
                                        <layout-row id="RowLayout57" style="align-items: center">
                                            <layout-column id="ColumnLayout511" style="align-items: stretch">
                                                <davinci-collapse id="Collapse_PersistentData"
                                                    class="myCustomPersistentDataMargin_CSK_Module_UserManagement"
                                                    collapsed-title="..." expanded-title="...">
                                                    <layout-row id="RowLayout45"
                                                        class="myCustomPersistentDataMarginBack_CSK_Module_UserManagement"
                                                        style="align-items: center">
                                                        <layout-column id="ColumnLayout6x" style="align-items: stretch">
                                                        </layout-column>
                                                        <layout-column id="ColumnLayout72"
                                                            style="align-items: stretch; flex-grow: 2">
                                                            <layout-row id="RowLayout13">
                                                                <layout-column id="ColumnLayout11"
                                                                    style="align-items: stretch">
                                                                    <layout-row id="RowLayout2x"
                                                                        style="align-items: center">
                                                                        <davinci-value-display id="VD_LoadConfig"
                                                                            value="Load on reboot:"
                                                                            title="Load configured parameters from CSK_PersistentData on app start.">
                                                                        </davinci-value-display>
                                                                        <davinci-checkbox id="CB_LoadConfig"
                                                                            title="Load configured parameters from CSK_PersistentData on app start.">
                                                                            <span></span>
                                                                            <crown-edpws-binding property="checked"
                                                                                name="CSK_UserManagement/OnNewStatusLoadParameterOnReboot"
                                                                                update-on-resume>
                                                                            </crown-edpws-binding>
                                                                            <crown-edpws-binding property="disabled"
                                                                                name="CSK_UserManagement/OnPersistentDataModuleAvailable"
                                                                                update-on-resume
                                                                                converter="function(value) {return !value;}">
                                                                            </crown-edpws-binding>
                                                                            <crown-binding event="change"
                                                                                name="CSK_UserManagement/setLoadOnReboot"
                                                                                path="param/args/status" auto-commit>
                                                                            </crown-binding>
                                                                        </davinci-checkbox>
                                                                    </layout-row>
                                                                </layout-column>
                                                                <layout-column id="ColumnLayout77"
                                                                    style="align-items: stretch">
                                                                </layout-column>
                                                            </layout-row>
                                                        </layout-column>
                                                        <layout-column id="ColumnLayout79" style="align-items: stretch">
                                                        </layout-column>
                                                    </layout-row>
                                                </davinci-collapse>
                                            </layout-column>
                                        </layout-row>
                                    </layout-column>
                                </layout-row>
                            </stacked-pane>
                            <stacked-pane id="SP_NotLoggedIn" value="false">
                                <davinci-callout id="Callout3" type="info">
                                    <span>
										Please login with minimun user level 'Maintenance' to setup parameter config.
									</span>
                                </davinci-callout>
                            </stacked-pane>
                            <crown-edpws-binding property="value" name="CSK_UserManagement/OnUserLevelMaintenanceActive"
                                update-on-resume converter="function(value) {return value.toString();}">
                            </crown-edpws-binding>
                        </stacked-view>
                    </layout-column>
                </layout-row>
                <layout-row id="RowLayout60" class="myCustomSpacerVert10_CSK_Module_UserManagement"
                    style="flex-grow: 0; flex-shrink: 0">
                </layout-row>
                <layout-row id="RowLayout47" class="myCustomBorderBottom_CSK_Module_UserManagement"
                    style="flex-grow: 0; flex-shrink: 0">
                </layout-row>
                <layout-row id="RowLayout61" class="myCustomSpacerVert20_CSK_Module_UserManagement"
                    style="flex-grow: 0; flex-shrink: 0">
                </layout-row>
                <layout-row id="RowLayout9">
                    <layout-column id="ColumnLayout1" style="align-items: stretch">
                        <layout-row id="RowLayout5">
                            <layout-column id="ColumnLayout7" class="myCustomFrame_CSK_Module_UserManagement"
                                style="align-items: stretch">
                                <davinci-value-display id="VD_User" class="myCustomFrameLabel_CSK_Module_UserManagement"
                                    label="User" style="align-self: flex-start">
                                </davinci-value-display>
                                <curie-callout id="DC_LoggedUser">
                                    <crown-edpws-binding property="value" name="CSK_UserManagement/OnNewLoggedInUser"
                                        update-on-resume>
                                    </crown-edpws-binding>
                                </curie-callout>
                                <davinci-drop-down id="DD_User" label="User:">
                                    <crown-edpws-binding property="data" name="CSK_UserManagement/OnNewUserList"
                                        update-on-resume converter="convertToList">
                                    </crown-edpws-binding>
                                    <crown-edpws-binding property="value" name="CSK_UserManagement/OnNewUserToLogIn"
                                        update-on-resume>
                                    </crown-edpws-binding>
                                    <crown-binding event="change" name="CSK_UserManagement/setLoginUser"
                                        path="param/args/user" auto-commit>
                                    </crown-binding>
                                </davinci-drop-down>
                                <davinci-text-field id="TF_Password" type="password" label="Password:">
                                    <crown-binding event="change" name="CSK_UserManagement/setLoginPassword"
                                        path="param/args/password" auto-commit>
                                    </crown-binding>
                                    <crown-edpws-binding property="value" name="CSK_UserManagement/OnNewLogInPassword"
                                        update-on-resume>
                                    </crown-edpws-binding>
                                </davinci-text-field>
                                <layout-row id="RowLayout7" style="justify-content: flex-end">
                                    <davinci-button id="B_Login" class="myCustomButton_CSK_Module_UserManagement"
                                        type="primary" title="Login">
                                        <davinci-icon icon="navigation/arrow_forward"></davinci-icon>
                                        <span></span>
                                        <crown-binding event="submit" name="CSK_UserManagement/login" auto-commit>
                                        </crown-binding>
                                    </davinci-button>
                                    <davinci-button id="B_Logout" class="myCustomButton_CSK_Module_UserManagement"
                                        type="outline" title="Logout">
                                        <davinci-icon icon="navigation/subdirectory_arrow_left"></davinci-icon>
                                        <span></span>
                                        <crown-binding event="submit" name="CSK_UserManagement/logout" auto-commit>
                                        </crown-binding>
                                    </davinci-button>
                                </layout-row>
                                <stacked-view id="SV_WrongPassword">
                                    <stacked-pane id="SP_ShowInfoWrongPassword" value="false">
                                        <davinci-callout id="Callout1" type="error">
                                            <span>Wrong password</span>
                                        </davinci-callout>
                                    </stacked-pane>
                                    <stacked-pane id="SP_NoPasswordInfo" value="true">
                                    </stacked-pane>
                                    <crown-edpws-binding property="value"
                                        name="CSK_UserManagement/OnNewHideWrongPassword" update-on-resume
                                        converter="function(value) {return value.toString();}">
                                    </crown-edpws-binding>
                                </stacked-view>
                            </layout-column>
                        </layout-row>
                    </layout-column>
                    <layout-column id="ColumnLayout21" style="align-items: stretch">
                        <stacked-view id="SV_LoginAdmin">
                            <stacked-pane id="SP_AdminActive" value="true">
                                <layout-row id="RowLayout6" class="myCustomBorderLeft_CSK_Module_UserManagement">
                                    <layout-column id="ColumnLayout8" class="myCustomFrame_CSK_Module_UserManagement"
                                        style="align-items: stretch">
                                        <davinci-value-display id="VD_AdminFeatures"
                                            class="myCustomFrameLabel_CSK_Module_UserManagement" label="Admin Features"
                                            style="align-self: flex-start">
                                        </davinci-value-display>
                                        <layout-row id="RowLayout2" style="justify-content: space-between">
                                            <layout-column id="ColumnLayout3"
                                                style="align-items: stretch; flex-grow: 3">
                                                <davinci-text-field id="TF_NewUser" type="text" label="New username">
                                                    <crown-binding event="change"
                                                        name="CSK_UserManagement/setNewUsername" path="param/args/name"
                                                        auto-commit>
                                                    </crown-binding>
                                                    <crown-edpws-binding property="value"
                                                        name="CSK_UserManagement/OnNewStatusUsernameToCreate"
                                                        update-on-resume>
                                                    </crown-edpws-binding>
                                                </davinci-text-field>
                                            </layout-column>
                                            <layout-column id="ColumnLayout4" style="align-items: stretch">
                                                <layout-row id="RowLayout3" style="justify-content: center">
                                                    <davinci-button id="B_AddUser"
                                                        class="myCustomButton_CSK_Module_UserManagement" type="primary"
                                                        title="Add User">
                                                        <davinci-icon icon="content/add"></davinci-icon>
                                                        <span></span>
                                                        <crown-binding event="submit" name="CSK_UserManagement/addUser"
                                                            auto-commit>
                                                        </crown-binding>
                                                    </davinci-button>
                                                    <davinci-button id="B_RemoveUser"
                                                        class="myCustomButton_CSK_Module_UserManagement" type="outline"
                                                        title="Remove selected user">
                                                        <davinci-icon icon="action/delete"></davinci-icon>
                                                        <span></span>
                                                        <crown-binding event="submit"
                                                            name="CSK_UserManagement/removeUser" auto-commit>
                                                        </crown-binding>
                                                    </davinci-button>
                                                </layout-row>
                                            </layout-column>
                                        </layout-row>
                                        <davinci-value-display id="VD_ListOfUsers" label="List of users">
                                        </davinci-value-display>
                                        <curie-table id="DT_UserList" selectable select-mode="highlight_row">
                                            <curie-table-column id="User" header="User" title="User">
                                            </curie-table-column>
                                            <crown-edpws-binding property="data"
                                                name="CSK_UserManagement/OnNewUserTableList" update-on-resume>
                                            </crown-edpws-binding>
                                            <crown-binding event="row-selected"
                                                name="CSK_UserManagement/selectedUserViaTable"
                                                path="param/args/selection" auto-commit>
                                            </crown-binding>
                                        </curie-table>
                                        <davinci-value-display id="VD_SelectUser" value=""
                                            label="Selected user to update:">
											<crown-on property="value"
												crown-event="CSK_UserManagement/OnNewUserToUpdate">
											</crown-on>
                                        </davinci-value-display>
                                        <davinci-text-field id="TF_NewPassword" type="password" label="New Password:"
                                            title="Set new password for selected user">
                                            <crown-binding event="change" name="CSK_UserManagement/setNewPassword"
                                                path="param/args/password" auto-commit>
                                            </crown-binding>
                                            <crown-edpws-binding property="value"
                                                name="CSK_UserManagement/OnNewPasswordToUpdate" update-on-resume>
                                            </crown-edpws-binding>
                                        </davinci-text-field>
                                        <davinci-callout id="CO_PasswordUpdated" type="success">
                                            <span>New password active.</span>
                                            <crown-edpws-binding property="hidden"
                                                name="CSK_UserManagement/OnNewHidePasswordInfo" update-on-resume>
                                            </crown-edpws-binding>
                                        </davinci-callout>
                                        <davinci-drop-down id="DD_UserLevel" label="User level"
                                            title="Set new role for selected user.">
                                            <davinci-option id="Option1" value="Operator">
                                                <span>Operator</span>
                                            </davinci-option>
                                            <davinci-option id="Option2" value="Maintenance">
                                                <span>Maintenance</span>
                                            </davinci-option>
                                            <davinci-option id="Option3" value="Service">
                                                <span>Service</span>
                                            </davinci-option>
                                            <davinci-option id="Option4" value="Admin">
                                                <span>Admin</span>
                                            </davinci-option>
                                            <crown-binding event="change" name="CSK_UserManagement/setNewUserLevel"
                                                path="param/args/level" auto-commit>
                                            </crown-binding>
                                            <crown-edpws-binding property="value"
                                                name="CSK_UserManagement/OnNewUserLevelToUpdate" update-on-resume>
                                            </crown-edpws-binding>
                                        </davinci-drop-down>
                                        <layout-row id="RowLayout4"
                                            class="myCustomSpacerVert20_CSK_Module_UserManagement">
                                        </layout-row>
                                    </layout-column>
                                </layout-row>
                            </stacked-pane>
                            <stacked-pane id="SP_NoAdmin" value="false"></stacked-pane>
                            <crown-edpws-binding property="value" name="CSK_UserManagement/OnUserLevelAdminActive"
                                update-on-resume converter="function(value) {return value.toString();}">
                            </crown-edpws-binding>
                        </stacked-view>
                    </layout-column>
                </layout-row>
            </layout-column>
        </layout-row>
        <stacked-view id="SV_PageCalled">
            <crown-binding property="value" name="CSK_UserManagement/pageCalled" path="result/data/empty"
                auto-update="0" update-on-resume>
            </crown-binding>
            <crown-edpws-binding property="value" name="CSK_UserManagement/OnNewStatusCSKStyle" update-on-resume
                converter="changeStyle">
            </crown-edpws-binding>
        </stacked-view>
    </layout-column>
</layout-row>